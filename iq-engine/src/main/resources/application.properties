spring.application.name=dropiq
server.port=8081

# Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5432/dropiq
spring.datasource.username=dropship_admin
spring.datasource.password=StrongP@ss123
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000

# AI Configuration - ОПТИМІЗОВАНО ДЛЯ ЯКОСТІ
ollama.base-url=http://localhost:11434
ollama.vision.model=llava:13b
ollama.text.model=mixtral:8x7b
ollama.timeout=300

# AI Analysis Settings - ПОКРАЩЕНІ ПАРАМЕТРИ
ai.analysis.batch-size=3
ai.analysis.max-concurrent=2
ai.categories.max-per-dataset=30
ai.categories.max-children-per-parent=5
ai.categories.max-depth=2

# Temperature settings для кращої якості
ai.vision.temperature=0.1
ai.text.temperature=0.3
ai.max-tokens=800

# Caching
spring.cache.cache-names=categoryTrees,productAnalysis
spring.cache.caffeine.spec=maximumSize=1000,expireAfterWrite=1h

# Async Configuration
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=20
spring.task.execution.pool.queue-capacity=100

# Logging
#logging.level.org.hibernate.SQL=DEBUG
#logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
#logging.level.com.dropiq=DEBUG

# JPA Settings
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.batch_versioned_data=true